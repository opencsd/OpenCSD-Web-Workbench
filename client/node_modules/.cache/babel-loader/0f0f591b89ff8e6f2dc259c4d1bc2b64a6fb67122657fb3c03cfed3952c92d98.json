{"ast":null,"code":"module.exports = shift;\nfunction shift(stream) {\n  var rs = stream._readableState;\n  if (!rs) return null;\n  return rs.objectMode || typeof stream._duplexState === 'number' ? stream.read() : stream.read(getStateLength(rs));\n}\nfunction getStateLength(state) {\n  if (state.buffer.length) {\n    // Since node 6.3.0 state.buffer is a BufferList not an array\n    if (state.buffer.head) {\n      return state.buffer.head.data.length;\n    }\n    return state.buffer[0].length;\n  }\n  return state.length;\n}","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}